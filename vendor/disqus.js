(function(){var k=window.disqus_config;window.disqus_config=function(){k&&k.call(this);this.server_side={bin:"embed:promoted_discovery:dynamic:network_default_hidden:fallthrough",service:"dynamic",variant:"fallthrough",bottom_placement_url:"",engage_lite_html:"",forum_id:"4296460",experiment:"network_default_hidden",top_placement_url:"",engage_lite_url:""}}})();
!function(k,n){var w,t,C,x,N,D,p,O,P,Q,R,A,G,aa,ba,y,ca,m,da,H,S,E,ea,fa,v,B,I,ga,ha,T,ia,ja,J,U,ka,la,V,u={},W={},z={},K={},L={},X={},Y={},M={};w=la=function(b,h){return Object.prototype.hasOwnProperty.call(b,h)};t=V=function(){return function(b,h){var e=b.length,g=Array.prototype.forEach;if(isNaN(e))for(var f in b)la(b,f)&&h(b[f],f,b);else if(g)g.call(b,h);else for(g=0;e>g;g++)h(b[g],g,b)}}();C=function(){var b=0;return function(h){b+=1;var e=String(b);return h?h+e:e}}();x=function(){var b=function(c){var l,
a=!1;return function(){return a?l:(a=!0,l=c.apply(this,arguments),c=null,l)}},h=Object.keys||function(c){if(c!==Object(c))throw new TypeError("Invalid object");var l=[],a;for(a in c)w(c,a)&&(l[l.length]=a);return l},e=[].slice,g={on:function(c,l,d){if(!a(this,"on",c,[l,d])||!l)return this;this._events=this._events||{};return(this._events[c]||(this._events[c]=[])).push({callback:l,context:d,ctx:d||this}),this},once:function(c,l,d){if(!a(this,"once",c,[l,d])||!l)return this;var q=this,e=b(function(){q.off(c,
e);l.apply(this,arguments)});return e._callback=l,this.on(c,e,d)},off:function(c,l,d){var b,e,f,g,k,Z,m,n;if(!this._events||!a(this,"off",c,[l,d]))return this;if(!c&&!l&&!d)return this._events={},this;g=c?[c]:h(this._events);k=0;for(Z=g.length;Z>k;k++)if(c=g[k],f=this._events[c]){if(this._events[c]=b=[],l||d)for(m=0,n=f.length;n>m;m++)e=f[m],(d&&d!==e.context||l&&l!==e.callback&&l!==e.callback._callback)&&b.push(e);b.length||delete this._events[c]}return this},trigger:function(c){if(!this._events)return this;
var l=e.call(arguments,1);if(!a(this,"trigger",c,l))return this;var b=this._events[c],q=this._events.all;return b&&d(b,l),q&&d(q,arguments),this},stopListening:function(c,l,a){var d=this._listeners;if(!d)return this;var b=!l&&!a;"object"==typeof l&&(a=this);c&&((d={})[c._listenerId]=c);for(var e in d)d[e].off(l,a,this),b&&delete this._listeners[e];return this}},f=/\s+/,a=function(c,l,a,d){if(!a)return!0;if("object"==typeof a){for(var b in a)c[l].apply(c,[b,a[b]].concat(d));return!1}if(f.test(a)){a=
a.split(f);b=0;for(var e=a.length;e>b;b++)c[l].apply(c,[a[b]].concat(d));return!1}return!0},d=function(c,l){var a,d,b=c.length,e=l[0],f=l[1],g=l[2];switch(l.length){case 0:for(d=0;b>d;d++)(a=c[d]).callback.call(a.ctx);break;case 1:for(d=0;b>d;d++)(a=c[d]).callback.call(a.ctx,e);break;case 2:for(d=0;b>d;d++)(a=c[d]).callback.call(a.ctx,e,f);break;case 3:for(d=0;b>d;d++)(a=c[d]).callback.call(a.ctx,e,f,g);break;default:for(d=0;b>d;d++)(a=c[d]).callback.apply(a.ctx,l)}};return t({listenTo:"on",listenToOnce:"once"},
function(c,a){g[a]=function(a,d,l){var b=this._listeners||(this._listeners={}),e=a._listenerId||(a._listenerId=C("l"));return b[e]=a,"object"==typeof d&&(l=this),a[c](d,l,this),this}}),g.bind=g.on,g.unbind=g.off,g}();N=function(b){return"[object Function]"===Object.prototype.toString.call(b)};D=function(b){return"[object String]"===Object.prototype.toString.call(b)};p=function(b){return function(h){return V(Array.prototype.slice.call(arguments,1),function(e){for(var g in e)b(e,g)&&(h[g]=e[g])}),h}}(w);
O=function(){return function(b,h,e){var g={};D(h)?g[h]=e:g=h;var f=p({},g);t(f,function(c,a){var d=a.replace(/\s+/g,"").toLowerCase();d!==a&&(delete f[a],f[d]=c);null===c&&(f[d]="");void 0===c&&delete f[d]});var a=b.style;if(!N(a.setProperty)){var d={};t(a.cssText.split(";"),function(c){if(c){var a=c.split(":");c=a.shift();a=a.join(":");d[c.replace(/\s+/g,"").toLowerCase()]=a}});b=p({},d,f);var c=[];return t(b,function(a,d){""!==a&&c.push(/!important/i.test(a)?d+":"+a:d+":"+a+" !important")}),void(a.cssText=
c.join(";"))}t(f,function(c,d){a.setProperty(d,String(c),"important")})}}();P=function(b,h,e){if(b.addEventListener)b.addEventListener(h,e,!1);else{if(!b.attachEvent)throw Error("No event support.");b.attachEvent("on"+h,e)}};Q=function(b,h,e){if(b.removeEventListener)b.removeEventListener(h,e,!1);else{if(!b.detachEvent)throw Error("No event support.");b.detachEvent("on"+h,e)}};R=function(b,h,e){e||(e=0);var g,f,a,d,c=0,l=function(){c=new Date;a=null;d=b.apply(g,f)};return function(){var r=new Date,
q=h-(r-c);return g=this,f=arguments,0>=q?(clearTimeout(a),a=null,c=r,d=b.apply(g,f)):a||(a=setTimeout(l,q+e)),d}};u=function(b){var h=k.document,e={},g=h.createElement("a");b.getOffset=function(c,a){a=a||h.documentElement;for(var d=c,b=0,e=0;d&&d!==a;)b+=d.offsetLeft,e+=d.offsetTop,d=d.offsetParent;return{top:e,left:b,height:c.offsetHeight,width:c.offsetWidth}};b.getHost=function(c){return g.href=c,g.hostname};b.addEvent=P;b.removeEvent=Q;b.throttle=R;b.addEvent(k,"message",function(c){var a,d=G;
try{a=d.parse(c.data)}catch(f){return}d=a.sender;(d=w(e,d)&&e[d])&&b.getHost(c.origin)===d.host&&(c.origin!==d.origin&&(d.origin=c.origin),"host"===a.scope&&d.trigger(a.name,a.data))},!1);b.addEvent(k,"hashchange",function(){b.trigger("window.hashchange",{hash:k.location.hash})},!1);b.addEvent(k,"resize",b.throttle(function(){b.trigger("window.resize")},250,50),!1);b.addEvent(h,"mousemove",b.throttle(function(){b.trigger("window.mousemove")},250,50),!1);b.addEvent(k,"scroll",b.throttle(function(){b.trigger("window.scroll")},
250,50));b.addEvent(h,"click",function(){b.trigger("window.click")});var f=b.WindowBase=function(c){c=c||{};this.state=f.INIT;this.uid=c.uid||C("dsq-frame");this.origin=c.origin;this.host=b.getHost(this.origin);this.target=c.target;this.window=null;e[this.uid]=this;this.on("ready",function(){this.state=f.READY},this);this.on("die",function(){this.state=f.KILLED},this)};p(f,{INIT:0,READY:1,KILLED:2,postMessage:function(c,a,d){return c.postMessage(a,d)}});p(f.prototype,x);f.prototype.requiresWindow=
function(c){var a=this;return function(){var d=Array.prototype.slice.call(arguments),b=function(){a.window?c.apply(a,d):setTimeout(b,500)};a.isReady()?b():a.on("ready",b)}};f.prototype.sendMessage=function(c,a){var d=G.stringify({scope:"client",name:c,data:a});this.requiresWindow(function(c){f.postMessage(this.window,c,this.origin)})(d)};f.prototype.hide=function(){};f.prototype.show=function(){};f.prototype.url=function(){return this.target};f.prototype.destroy=function(){this.state=f.KILLED;this.off()};
f.prototype.isReady=function(){return this.state===f.READY};f.prototype.isKilled=function(){return this.state===f.KILLED};var a=b.Popup=function(c){c.uid=c.windowName;f.call(this,c)};p(a.prototype,f.prototype);a.prototype.load=function(){(this.window=k.open("",this.uid||"_blank")).location=this.url()};a.prototype.isKilled=function(){return f.prototype.isKilled()||this.window.closed};var d=b.Iframe=function(c){f.call(this,c);this.styles=c.styles||{};this.tabIndex=c.tabIndex||0;this.title=c.title||
"Disqus";this.container=c.container;this.elem=null};p(d.prototype,f.prototype);d.prototype.load=function(){var c=this.elem=h.createElement("iframe");c.setAttribute("id",this.uid);c.setAttribute("name",this.uid);c.setAttribute("allowTransparency","true");c.setAttribute("frameBorder","0");c.setAttribute("scrolling","no");this.role&&c.setAttribute("role",this.role);c.setAttribute("tabindex",this.tabIndex);c.setAttribute("title",this.title);this.setInlineStyle(this.styles)};d.prototype.getOffset=function(c){return b.getOffset(this.elem,
c)};d.prototype.setInlineStyle=function(c,a){return O(this.elem,c,a)};d.prototype.removeInlineStyle=function(c){var a=this.elem.style;return"removeProperty"in a?void a.removeProperty(c):void(a[c]="")};d.prototype.hide=function(){this.setInlineStyle("display","none")};d.prototype.show=function(){this.removeInlineStyle("display")};d.prototype.destroy=function(){return this.elem&&this.elem.parentNode&&(this.elem.parentNode.removeChild(this.elem),this.elem=null),f.prototype.destroy.call(this)};a=b.Channel=
function(c){this.window=null;d.call(this,c);this.insertBeforeEl=c.insertBeforeEl;this.insertAfterEl=c.insertAfterEl;this.styles=p({width:"1px","min-width":"100%",border:"none",overflow:"hidden",height:"0"},c.styles||{})};p(a.prototype,d.prototype);a.prototype.load=function(c){var a=this;d.prototype.load.call(a);var e=a.elem;e.setAttribute("width","100%");e.setAttribute("src",this.url());b.addEvent(e,"load",function(){a.window=e.contentWindow;c&&c()});(D(a.container)?h.getElementById(a.container)||
h.body||h.documentElement:a.container).insertBefore(e,(a.insertAfterEl?a.insertAfterEl.nextSibling:a.insertBeforeEl)||null)};a.prototype.destroy=function(){return this.window=null,d.prototype.destroy.call(this)};a=b.Sandbox=function(c){d.call(this,c);this.contents=c.contents||"";this.styles=p({width:"100%",border:"none",overflow:"hidden"},c.styles||{})};return p(a.prototype,d.prototype),a.prototype.load=function(c){d.prototype.load.call(this);var a=this.elem;(D(this.container)?h.getElementById(this.container)||
h.body||h.documentElement:this.container).appendChild(a);this.window=a.contentWindow;try{this.window.document.open()}catch(b){a.src='javascript:var d=document.open();d.domain="'+h.domain+'";void(0);'}return this.document=this.window.document,this.document.write(this.contents),this.document.close(),this.updateHeight(),c&&setTimeout(c,0),this},a.prototype.updateHeight=function(){var c,a=this.document.body;a&&(c=a.offsetHeight+"px",this.setInlineStyle({height:c,"min-height":c,"max-height":c}))},a.prototype.show=
function(){this.setInlineStyle("display","block")},a.prototype.click=function(c){var a=this;b.addEvent(a.document.body,"click",function(d){c.call(a,d)})},a.prototype.setBodyClass=function(c){this.document.body.className=c},b.on=x.on,b.off=x.off,b.trigger=x.trigger,b}(u);A=function(){var b=(new u.Sandbox({container:"disqus_thread",styles:{display:"none"}})).load();return function(h){try{return b.window[h]||k[h]}catch(e){return k[h]}}}();G=function(){var b;return b="[object JSON]"===k.Object.prototype.toString.call(k.JSON)?
k.JSON:A("JSON"),b?b:{}}();W=function(b){return function(b){var e=[];return t(b,function(b,f){b!==n&&e.push(f+(null===b?"":"="+encodeURIComponent(b)))}),e.join("&")}}(W);z=function(b){var h=W;return function g(b,a,d){if(a&&(-1===b.indexOf("?")?b+="?":"&"!==b.charAt(b.length-1)&&(b+="&"),b+=h(a)),d)return a={},a[(new Date).getTime()]=null,g(b,a);a=b.length;return"&"===b.charAt(a-1)?b.slice(0,a-1):b}}(z);K=function(b){var h=z,e=k.document,g=e.head||e.getElementsByTagName("head")[0]||e.body;return function(b,
a,d){var c=e.createElement("script");c.src=h(b,a,d);c.async=!0;c.charset="UTF-8";g.appendChild(c)}}(K);aa=function(b){var h;return function(){return b&&(h=b.apply(this,arguments),b=null),h}};ba=function(b){function h(){var b=k.performance;return(b=b&&b.timing)?11*(b.domainLookupEnd-b.domainLookupStart)+13*(b.connectEnd-b.connectStart)+17*(b.responseStart-b.navigationStart):1E5}return{generate:function(e){e=e||{};var g=e.Math||k.Math,f=Number((new Date).getTime().toString().substring(3)),g=g.abs(f+
h()-b.get()).toString(32),a;var d;d=e||{};e=d.Uint32Array||k.Uint32Array;f=d.crypto||k.crypto;d=d.Math||k.Math;try{var c=new e(1);a=(f.getRandomValues(c),c[0])}catch(l){a=d.floor(1E9*d.random())}return g+a.toString(32)}}}(function(){return{get:function(b){b=b||{};var h=b.Math||k.Math;b=b.Date||k.Date;try{var e=(new b).getTimezoneOffset();b=1;var g=k.screen;g&&g.availWidth?b=g.availWidth*g.availHeight+g.colorDepth:g&&g.width&&(b=g.width*g.height);var f=k.document.documentElement;return h.abs(17*e+
25*b-f.clientWidth*f.clientHeight)}catch(a){return 1}}}}());y=function(){return k.getComputedStyle?function(b,h,e){try{return k.document.defaultView.getComputedStyle(b,null).getPropertyValue(h)}catch(g){return null}}:function(b,h,e){return b.currentStyle[h]||b.currentStyle[e]}}();ca=function(){function b(a){return a=a.replace(/^#([a-f0-9])([a-f0-9])([a-f0-9])$/,"#$1$1$2$2$3$3"),a=a.slice(1),{red:parseInt(a.slice(0,2),16),green:parseInt(a.slice(2,4),16),blue:parseInt(a.slice(4,6),16)}}function h(a){a=
a.match(/^rgb\((\d+),(\d+),(\d+)\)$/);return{red:parseInt(a[1],10),green:parseInt(a[2],10),blue:parseInt(a[3],10)}}function e(a){a=a.match(/^rgba\((\d+),(\d+),(\d+),([\d.]+)\)$/);return{red:parseInt(a[1],10),green:parseInt(a[2],10),blue:parseInt(a[3],10),alpha:parseFloat(a[4])}}function g(d,c,b,e){return c=k.document.createElement(c),a(c,{visibility:"hidden",color:b}),d.appendChild(c),b=e(c),d.removeChild(c),b}function f(a,c){c=c||{};var b=c.container||k.document.body;return k.getComputedStyle?(a=
g(b,"span",a,function(c){return k.getComputedStyle(c,null).getPropertyValue("color")}),h(a.replace(/\s+/g,"").toLowerCase())):(a=g(b,"textarea",a,function(c){return c.createTextRange().queryCommandValue("ForeColor")}),{red:255&a,blue:a>>>16,green:(65280&a)>>>8})}var a=O;return function(a,c){a=a.replace(/\s+/g,"").toLowerCase();var l;if("transparent"===a)return{red:0,green:0,blue:0,alpha:0};if("#"===a.charAt(0))l=b;else if("rgba("===a.slice(0,5))l=e;else if("rgb("===a.slice(0,4))l=h;else{if(!/^[a-z]+$/.test(a))throw Error("parseColor received unparseable color: "+
a);l=f}return l(a,c)}}();m=function(){function b(a){if(!a||"embed.js"!==a.substring(a.length-8))return null;for(var c,d=[/(https?:)?\/\/(www\.)?disqus\.com\/forums\/([\w_\-]+)/i,/(https?:)?\/\/(www\.)?([\w_\-]+)\.disqus\.com/i,/(https?:)?\/\/(www\.)?dev\.disqus\.org\/forums\/([\w_\-]+)/i,/(https?:)?\/\/(www\.)?([\w_\-]+)\.dev\.disqus\.org/i],b=d.length,l=0;b>l;l++)if(c=a.match(d[l]),c&&c.length&&4===c.length)return c[3];return null}function h(a){return a.toLowerCase().replace(/^\s+|\s+$/g,"").replace(/['"]/g,
"")}function e(a,b,l){l=l||b;var f=d(a,b,l);return!f||/color/i.test(b)&&0===c(f).alpha?a&&e(a.parentNode,b,l)||f:f||null}function g(c,b,d,l){a(b)&&(b=q.createElement(b));var f=null;return b.style.visibility="hidden",c.appendChild(b),f=e(b,d,l),c.removeChild(b),f}function f(a){var c=a.red,b=a.green,d=a.blue;a.hasOwnProperty("alpha")&&(a=a.alpha,c=Math.round(c*a+255*(1-a)),b=Math.round(b*a+255*(1-a)),d=Math.round(d*a+255*(1-a)));return(299*c+587*b+114*d)/1E3}var a=D,d=y,c=ca,l=z,r=u,q=k.document,F=
function(){var a,c,b=function(){return!1};if("hidden"in q)a="hidden",c="visibilitychange";else{if(!("webkitHidden"in q))return{isHidden:b,listen:b,stopListening:b};a="webkitHidden";c="webkitvisibilitychange"}return{isHidden:function(){return q[a]},listen:function(a){return r.addEvent(q,c,a)},stopListening:function(a){return r.removeEvent(q,c,a)}}}();return{MAX_Z_INDEX:2147483647,getShortnameFromUrl:b,getForum:function(a,c){var d,l,e,f=a.getElementsByTagName("script"),g=f.length;c=c||b;for(--g;0<=
g;g--)if(d=f[g],l=d.getAttribute?d.getAttribute("src"):d.src,e=c(l),null!==e)return e.toLowerCase();return null},guessThreadTitle:function(){for(var a=q.getElementsByTagName("h1"),c=q.title,b=c.length,d=c,l=.6,e=0;e<a.length;e++){var f=a[e],g,f=f.textContent||f.innerText;if(null!==f&&f!==n){g=c;var h=f,r,k,F=0,m=Array(g.length);for(r=0;r<=g.length;r++)for(m[r]=Array(h.length),k=0;k<=h.length;k++)m[r][k]=0;for(r=0;r<g.length;r++)for(k=0;k<h.length;k++)g[r]===h[k]&&(m[r+1][k+1]=m[r][k]+1,m[r+1][k+1]>
F&&(F=m[r+1][k+1]));g=F/b;g>l&&(l=g,d=f)}}return d},getContrastYIQ:f,getColorScheme:function(a){var b=g(a,"span","background-color","backgroundColor");a=c(b,{container:a});return 0===a.alpha?"light":128>f(a)?"dark":"light"},getElementStyle:g,getAnchorColor:function(a){var b=q.createElement("a");return b.href=Number(new Date),c(g(a,b,"color"),{container:a})},normalizeFontValue:h,isSerif:function(a){var c;a=g(a,"span","font-family","fontFamily").split(",");for(var b={courier:1,times:1,"times new roman":1,
georgia:1,palatino:1,serif:1},d=0;d<a.length;d++)if(c=h(a[d]),b.hasOwnProperty(c))return!0;return!1},getBrowserSupport:function(a){if(!a.postMessage)return 1;if(!a.JSON)return"Microsoft Internet Explorer"===a.navigator.appName?2:1;try{a.postMessage("ping","*")}catch(c){return 2}return 0},logStat:function(a){(new k.Image).src=l("https://referrer.disqus.com/juggler/stat.gif",{event:a})},reportJester:function(a){(new k.Image).src=l("https://referrer.disqus.com/juggler/event.gif",a)},pageVisibility:F,
getScrollbarWidth:function(){var a=q.createElement("div");a.style.visibility="hidden";a.style.width="100px";a.style.msOverflowStyle="scrollbar";q.body.appendChild(a);var c=a.offsetWidth;a.style.overflow="scroll";var b=q.createElement("div");b.style.width="100%";a.appendChild(b);b=b.offsetWidth;return a.parentNode.removeChild(a),c-b},getLoaderVersionFromUrl:function(a){a=a.split(".");a=2<a.length?a[a.length-2]:"";return a.match(/^[0-9a-f]{32}$/i)&&a},browser:{isIE:function(){return!!q.documentMode},
isSafari:function(){var a=k.navigator.userAgent.toLowerCase();return-1<a.indexOf("safari")&&-1===a.indexOf("chrome")}},storage:{getItem:function(a){try{return k.localStorage.getItem(a)}catch(c){}},setItem:function(a,c){try{return k.localStorage.setItem(a,c)}catch(b){}}},defaultProtocol:"https:"===q.location.protocol?"https:":"http:",appearsToHideContent:function(a){if(1===a.nodeType){var c=d(a,"max-height","maxHeight");a=d(a,"overflow-y","overflowY");return c&&"none"!==c&&a&&"visible"!==a}},hasOverflow:function(a){return 1===
a.nodeType?4<a.scrollHeight-a.clientHeight:void 0},getCanonicalUrl:function(){if(q.querySelector){var a=q.querySelector("link[rel=canonical]");if(a)return a.href}}}}();da=function(){var b=function(b,g){this.win=b;this.configurator=g;this.config={page:{url:n,title:n,slug:n,category_id:n,identifier:n,language:n,api_key:n,remote_auth_s3:n,author_s3:n},experiment:{enable_scroll_container:!0,force_auto_styles:n,sort_order:n,force_mobile:n},server_side:{service:"static",experiment:"default",variant:"control",
top_placement_url:n,bottom_placement_url:n,engage_lite_html:n,engage_lite_url:n,forum_id:n},discovery:{disable_all:n,disable_promoted:n,sponsored_comment_id:n,preview:!1,adsFixture:n,pdFixture:n},strings:n,sso:{},callbacks:{preData:[],preInit:[],onInit:[],afterRender:[],onReady:[],onNewComment:[],preReset:[],onPaginate:[],onIdentify:[],beforeComment:[]}}};b.DISQUS_GLOBALS="shortname identifier url title category_id slug".split(" ");var h=b.prototype;return h.getContainer=function(){var b=this.win;
return b.document.getElementById(b.disqus_container_id||"disqus_thread")},h.runConfigurator=function(){var b=this.configurator||this.win.disqus_config;if("function"==typeof b)try{b.call(this.config)}catch(g){}},h.getValuesFromGlobals=function(){var e,g=this.win,f=this.config,a=f.page;t(b.DISQUS_GLOBALS,function(b){var c=g["disqus_"+b];"undefined"!=typeof c&&(a[b]=c)});this.runConfigurator();f.forum||(e=a.shortname,f.forum=e?e.toLowerCase():m.getForum(g.document))},h.toJSON=function(){var b,g=this.win,
f=this.config,a=f.page,d=this.getContainer();return this.getValuesFromGlobals(),(f.server_side.top_placement_url||f.server_side.bottom_placement_url)&&(b=ba.generate({Math:A("Math"),crypto:A("crypto"),Uint32Array:A("Uint32Array"),Date:A("Date")})),{impressionId:b||null,container:d,forum:f.forum,sortOrder:f.experiment.sort_order||m.storage.getItem("disqus.sort")||"default",language:f.language,typeface:m.isSerif(d)?"serif":"sans-serif",anchorColor:m.getAnchorColor(d),colorScheme:m.getColorScheme(d),
canonicalUrl:m.getCanonicalUrl(),url:a.url||g.location.href.replace(/#.*$/,""),title:a.title,documentTitle:m.guessThreadTitle(),slug:a.slug,category:a.category_id,identifier:a.identifier,discovery:f.discovery,experimentName:f.server_side.experiment,experimentVariant:f.server_side.variant,experimentService:f.server_side.service,forumId:f.server_side.forum_id,topPlacementUrl:f.server_side.top_placement_url,bottomPlacementUrl:f.server_side.bottom_placement_url,apiKey:a.api_key,remoteAuthS3:a.remote_auth_s3,
sso:f.sso,unsupported:m.getBrowserSupport(g),callbacks:f.callbacks,enableScrollContainer:f.experiment.enable_scroll_container,forceAutoStyles:f.experiment.force_auto_styles,forceMobile:f.experiment.force_mobile,engageLiteHTML:f.server_side.engage_lite_html,engageLiteURL:f.server_side.engage_lite_url}},{HostConfig:b}}();H=function(){var b;return b="undefined"==typeof console?function(){}:"function"==typeof console.log?function(){return console.log(Array.prototype.slice.call(arguments,0).join(" "))}:
function(){return console.log.apply(console,arguments)},{log:b}}();S=function(b){try{return b.self!==b.top}catch(h){return!0}};E=function(b){return function(h){return!(!h||!(h.offsetWidth||h.offsetHeight||h.getClientRects().length)||"hidden"===b(h,"visibility"))}}(y);ea=function(b,h,e){var g=function(){var f=b();return f?void h(f):void setTimeout(g,e)};g()};fa=function(){var b=k.document.body;return function(){var h=b.offsetHeight,e=parseInt(y(b,"margin-top","marginTop"),10);e&&(h+=e);e=parseInt(y(b,
"margin-bottom","marginBottom"),10);return e&&(h+=e),h}}();v=function(){var b=z,h={lounge:"http://disqus.com/embed/comments/",home:"https://disqus.com/home/".replace("home/","")},e=function(b,e){return/^http/.test(e)||(e="http:"),e+"//"+b.replace(/^\s*(\w+:)?\/\//,"")};return{BASE:"default",apps:h,get:function(g,f,a){var d=h[g];if(!d)throw Error("Unknown app: "+g);g=e(d,k.document.location.protocol);f=p({base:"default"},f||{});a=a?"#"+encodeURIComponent(JSON.stringify(a)):"";return b(g,f)+a},ensureHttpBasedProtocol:e}}();
B=function(){var b=u,h=k.document,e=h.querySelector("html"),g=h.location.protocol,f=function(a){this.uid=C("dsq-app");this.settings=a||{};a=[];var b=this.constructor.prototype;do a.unshift(b),b=b.constructor.__super__;while(b);for(var d=0,e=a.length;e>d;d++)b=a[d],w(b,"events")&&this.on(b.events,this),w(b,"onceEvents")&&this.once(b.onceEvents,this)};p(f.prototype,x);f.prototype.destroy=function(){this.off();this.stopListening()};f.extend=function(a,b){var d,e=this;d=a&&w(a,"constructor")?a.constructor:
function(){return e.apply(this,arguments)};p(d,e,b);var f=function(){this.constructor=d};return f.prototype=e.prototype,d.prototype=new f,a&&p(d.prototype,a),d.__super__=e.prototype,d};var a=f.extend({name:null,loaderVersion:null,frame:null,origin:v.ensureHttpBasedProtocol("http://disqus.com",g),state:null,getUrl:function(a,b){return a=this.loaderVersion?p({version:this.loaderVersion},a):p({disqus_version:"b73b2db"},a),v.ensureHttpBasedProtocol(v.get(this.name,a,b),g)},getFrameSettings:function(){var a=
{target:this.getUrl(),origin:this.origin,uid:this.uid},b=this.settings;return b.windowName?a.windowName=b.windowName:a.container=b.container||h.body,a},getFrame:function(){var a=this.getFrameSettings();return new (a.windowName?b.Popup:b.Channel)(a)},setState:function(a){var b=this.constructor;return a in b.states?(this.state=b.states[a],void this.trigger("state:"+a)):!1},init:function(){var a,b=this;b.frame=a=this.getFrame();b.listenTo(a,"all",function(d,e){b.trigger("frame:"+d,e,a)});b.trigger("change:frame",
a);b.frame.load(function(){b.setState("LOADED")});b.setState("INIT")},destroy:function(){var a=this.frame;a&&(this.stopListening(a),a.destroy());this.setState("KILLED");this.frame=null;f.prototype.destroy.call(this)},events:{"frame:ready":function(){this.setState("READY")}},isHeightRestricted:function(a){a=a||{};var b=this.settings.container,d=b.parentNode,f=d!==e&&d!==h.body;return a.checkScrollHeight?m.appearsToHideContent(b)&&m.hasOverflow(b)||f&&m.appearsToHideContent(d)&&m.hasOverflow(d):m.appearsToHideContent(b)||
f&&m.appearsToHideContent(d)}},{states:{INIT:0,LOADED:1,READY:2,RUNNING:3,KILLED:4}}),d=a.extend({getUrl:function(){var c=this.settings,b={f:c.forum,t_i:c.identifier,t_u:c.url||k.location.href,t_s:c.slug,t_e:c.title,t_d:c.documentTitle,t_t:c.title||c.documentTitle,t_c:c.category,s_o:c.sortOrder,l:c.language};return c.unsupported&&(b.n_s=c.unsupported),a.prototype.getUrl.call(this,b)},getFrameInitParams:function(a){a=this.settings;a={permalink:a.permalink,anchorColor:a.anchorColor,referrer:k.location.href,
hostReferrer:h.referrer,canonicalUrl:a.canonicalUrl,colorScheme:a.colorScheme,typeface:a.typeface,remoteAuthS3:a.remoteAuthS3,apiKey:a.apiKey,sso:a.sso,parentWindowHash:k.location.hash,forceAutoStyles:a.forceAutoStyles,forceMobile:a.forceMobile,layout:a.layout,timestamp:this.timestamp,embedLoadTime:this.getBootloaderTimingInfo(),isHeightRestricted:this.isHeightRestricted()};return a.initialPosition=this.getViewportAndScrollStatus(),a},listenToScrollEvent:function(a){var d=this,f=d.getScrollContainer();
if(f===e)return d.listenTo(b,"window.scroll",a),function(){d.stopListening(b,"window.scroll",a)};var g=b.throttle(function(){a.call(d)},250,50);return b.addEvent(f,"scroll",g),function(){b.removeEvent(f,"scroll",g)}},getScrollContainer:function(){if(this.scrollContainer)return this.scrollContainer;if(!this.settings.enableScrollContainer)return e;var a=this.settings.container;do{var b=y(a,"overflow-y","overflowY");if(("scroll"===b||"auto"===b)&&a.clientHeight<a.scrollHeight)break;a=a.parentNode}while(a&&
a!==e);return a&&a!==h.body||(a=e),this.scrollContainer=a},getViewportCoords:function(){return this.getScrollContainer()===e?this.getWindowCoords():this.getScrollContainerCoords()},getWindowCoords:function(){if("number"==typeof k.pageYOffset)this.getWindowScroll=function(){return k.pageYOffset},this.getWindowHeight=function(){return k.innerHeight};else{var a=e.clientHeight||e.clientWidth?e:h.body;this.getWindowScroll=function(){return a.scrollTop};this.getWindowHeight=function(){return a.clientHeight}}return this.getWindowCoords=
function(){return{top:this.getWindowScroll(),height:this.getWindowHeight()}},this.getWindowCoords()},getScrollContainerCoords:function(){var a=this.getScrollContainer();return{top:a.scrollTop,height:a.clientHeight}},getBootloaderTimingInfo:function(){if(k.performance&&k.performance.getEntriesByName){var a=k.performance.getEntriesByName(h.currentScript?h.currentScript.src:g+"//"+this.settings.forum+".disqus.com/embed.js")[0];return a&&a.duration}},getViewportAndScrollStatus:function(){var a=this.frame;
if(!a||!a.getOffset||!E(a.elem))return null;var b=this.getViewportCoords();return{frameOffset:a.getOffset(this.getScrollContainer()),pageOffset:b.top,height:b.height}},communicateViewportAndScrollStatus:function(){var a=this.getViewportAndScrollStatus();if(a){var b=a.frameOffset,d=b.top,e=d+b.height,f=a.pageOffset,g=a.height,h=f+g,k=b=!1;h+g>=d&&(b=e>=f,k=b&&h>=d);d=this.frame;d.sendMessage("window.scroll.always",a);b&&d.sendMessage("window.scroll",a);k!==this.wasInViewport&&(d.sendMessage(k?"window.inViewport":
"window.scrollOffViewport"),this.wasInViewport=k)}},getBestNextFrameHeight:function(a){var b=this.getViewportAndScrollStatus();if(!b||this.settings.enableScrollContainer||!this.getScrollContainer())return a;var d=b.frameOffset;if(a>=d.height)return a;var e=fa()-(d.height+d.top),b=b.pageOffset+b.height-(d.top+e);return b>a?b+1:a},events:{"state:INIT":function(){this.settings.unsupported||(this.settings.windowName||(this.listenToScrollEvent(this.communicateViewportAndScrollStatus),this.listenTo(b,"window.resize",
this.communicateViewportAndScrollStatus)),this.timestamp=Number(new Date))},"state:LOADED":function(){var a=this.frame,b=a.elem;this.settings.unsupported?(a.setInlineStyle("height","500px"),b.setAttribute("scrolling","yes"),b.setAttribute("horizontalscrolling","no"),b.setAttribute("verticalscrolling","yes"),a.show()):this.settings.windowName||(this.rendered=!1,a.setInlineStyle("height","0"),b.setAttribute("scrolling","no"),b.setAttribute("horizontalscrolling","no"),b.setAttribute("verticalscrolling",
"no"))},"frame:ready":function(a,b){var d=this.getFrameInitParams(a,b);b.sendMessage("init",d)},"frame:resize":function(a,b){var d=a.height;b.elem&&this.rendered&&(d=this.getBestNextFrameHeight(d),b.setInlineStyle("height",d+"px"),b.sendMessage("embed.resized"));this.communicateViewportAndScrollStatus()},"frame:rendered":function(a,b){this.rendered=!0;this.wasInViewport=!1;b.trigger("resize",a);b.sendMessage("embed.rendered")},"frame:fail":function(a,b){b.elem&&b.setInlineStyle("height",a&&a.height||
"75px")},"frame:scrollTo":function(a,b){if(b.elem&&b.getOffset){var d=this.getScrollContainer(),f=b.getOffset(d),f="window"===a.relative?a.top:f.top+a.top,g=this.getViewportCoords();!a.force&&f>g.top&&f<g.top+g.height||(d===e?k.scrollTo(0,f):d.scrollTop=f)}}}});return{protocol:g,BaseApp:f,WindowedApp:a,ThreadBoundApp:d}}();I=function(){var b=z,h=B.WindowedApp,e=k.document,g=/^calc\((.+)\)$/,f=h.extend({name:"home",events:{"frame:close":function(a,b){b.hide();k.focus()},"frame:openReady":function(){this.frame.show();
this.frame.sendMessage("open");(m.browser.isIE()||m.browser.isSafari())&&this.preventScrolling()},"state:LOADED":function(){this.frame.removeInlineStyle("visibility")},"frame:after:render":function(){m.browser.isSafari()&&this.triggerHostReflow()}},preventScrolling:function(){var a=this.getBodyOverflow(),b=e.body.style.marginRight,c=e.documentElement.style,f=c.overflow;this.listenToOnce(this,"frame:close",function(){this.setBodyStyles({overflow:a,marginRight:b});c.overflow=f});this.setBodyStyles({overflow:"hidden",
marginRight:this.calcMargin(y(e.body,"margin-right","marginRight")||b)});c.overflow="hidden"},triggerHostReflow:function(){var a=e.createElement("style");e.body.appendChild(a);e.body.removeChild(a)},calcMargin:function(a){var b=a.match(g);return b&&(a=b[1]),a?"calc("+a+" + "+m.getScrollbarWidth()+"px)":m.getScrollbarWidth()+"px"},setBodyStyles:function(a){for(var b in a)e.body.style[b]=a[b]},getBodyOverflow:function(){return e.body.style.overflow},getSecureOrigin:function(){var a=v.ensureHttpBasedProtocol("https://disqus.com/home/",
"https:").split("/");return a[0]+"//"+a[2]},getFrameSettings:function(){var a=h.prototype.getFrameSettings.call(this);return a.role="dialog",a.origin=this.getSecureOrigin(),a.styles={height:"100%",position:"fixed",top:0,right:0,left:"auto",bottom:"auto","z-index":m.MAX_Z_INDEX,visibility:"hidden"},a},getUrl:function(){var a=this.settings.path||"",d=this.settings.language,c={utm_source:"disqus_embed"};return d&&"en"!==d&&(c.l=d),b(v.apps[this.name]+a,c)},show:function(a){if(!this.frame.isReady())return void this.once("frame:ready",
function(){this.show(a)},this);var b={path:a};this.settings.sso&&(b.sso=this.settings.sso);this.frame.sendMessage("showPath",b)}},{READY_TIMEOUT:1E4,getInstanceOrLoad:function(a){var b=f.instance;return b?b:(b=f.instance=new f(a),a.preload&&b.listenToOnce(b,"state:INIT",function(){b.frame.hide()}),f.setHomeTimeout(b),b.init(),b)},setHomeTimeout:function(a){f.homeTimeoutId&&clearTimeout(f.homeTimeoutId);var b=f.homeTimeoutId=setTimeout(function(){a.frame.destroy();a.trigger("timeout")},f.READY_TIMEOUT);
a.listenToOnce(a,"state:READY",function(){clearTimeout(b)})},preload:function(a){return a.preload=!0,f.getInstanceOrLoad(a)},destroy:function(){var a=f.instance;a&&(a.destroy(),f.instance=null)},show:function(a){var b=f.getInstanceOrLoad(a);return b.show(a.path),b}});return{show:f.show,preload:f.preload,destroy:f.destroy,_HomeApp:f}}();ga=function(){var b=k.document,h=K,e=B.ThreadBoundApp,g=u,f=e.extend({name:"lounge",loaderVersion:m.getLoaderVersionFromUrl("//a.disquscdn.com/next/embed/lounge.load.abfa4959dc34e1f6ae72ea1155d08c72.js"),
indicators:null,wasInViewport:!1,triggeredSlowEvent:!1,events:{"state:INIT":function(){var a=this.settings,b=a.server_side;b&&"fallback"===b.service&&m.logStat("embed.fallback");a.unsupported||(this.indicators={},this.isContainerVisible()?this.addLoadingAnim():this.addLoadingAnimOnContainerVisible(),this.bindPublisherCallbacks(),this.forwardGlobalEvents())},"state:LOADED":function(){this.isContainerVisible()&&this.addLoadingAnim()},"frame:reload":function(){k.location.reload()},"frame:navigate":function(a){k.location.href=
a},"frame:session.identify":function(a){this.trigger("session.identify",a)},"frame:posts.paginate":function(){this.trigger("posts.paginate")},"frame:posts.count":function(a){this.trigger("posts.count",a)},"frame:posts.create":function(a){this.trigger("posts.create",{id:a.id,text:a.raw_message})},"frame:posts.beforeCreate":function(a){this.onBeforePostCreate(a)},"frame:home.destroy":function(){this.destroyHome()},"frame:home.preload":function(a){this.preloadHome(a)},"frame:home.show":function(a){this.showHome(a)},
"frame:home.open":function(a){k.location=a},"frame:indicator:init":function(a,b){if(b.getOffset){var c,e,f=["north","south"],h=this.indicators;c=b.getOffset().width+"px";for(var k={width:c,"min-width":c,"max-width":c,position:"fixed","z-index":m.MAX_Z_INDEX-1},n={north:{top:"0"},south:{bottom:"0"}},ma=function(){b.sendMessage("indicator:click",this.uid.split("-")[1])},t=0;t<f.length;t++){e=f[t];c=new g.Sandbox({uid:"indicator-"+e,container:this.settings.container,contents:a[e].contents,styles:p(n[e],
k),role:"alert",type:e});try{c.load()}catch(Z){continue}c.hide();c.click(ma);h[e]=c}this.on({"frame:indicator:show":function(a){var b=h[a.type];b&&(b.document.getElementById("message").innerHTML=a.content,b.show())},"frame:indicator:hide":function(a){var b=(a=a&&a.type)&&h[a];if(b)b.hide();else if(!a)for(var d=0;d<f.length;d++)a=f[d],(b=h[a])&&b.hide()}})}},"frame:change:sort":function(a){m.storage.setItem("disqus.sort",a)},"frame:fail frame:rendered":function(){this.removeLoadingAnim();this.setState("RUNNING")},
"frame:fail":function(a){m.logStat("failed_embed.server."+a.code)},"frame:rendered":function(){this.triggeredSlowEvent&&m.logStat("rendered_embed.slow")}},onceEvents:{"frame:viglink:init":function(a,b){if(!(k.vglnk_self||k.vglnk||function(){for(var a in k)if(0===a.indexOf("skimlinks")||0===a.indexOf("skimwords"))return!0;return!1}())){var c=a.apiUrl,e=a.key,f=String(a.id);null!=a.clientUrl&&null!=c&&null!=e&&null!=a.id&&(this.listenForAffiliationRequests(c,e,f),DISQUS.vglnk={api_url:c,key:e,sub_id:f,
onlibready:function(){b.sendMessage("viglink:change:timeout",{timeout:DISQUS.vglnk.opt("click_timeout")})}},k.vglnk_self="DISQUS.vglnk",h(a.clientUrl))}}},getFrameInitParams:function(a,b){var c=e.prototype.getFrameInitParams.call(this,a,b);return c.experiment={experiment:this.settings.experimentName,variant:this.settings.experimentVariant,service:this.settings.experimentService},c.isBehindClick=this.isHeightRestricted()||!E(b.elem),c.discovery=this.settings.discovery,this.settings.impressionId&&(c.impressionId=
this.settings.impressionId),(this.settings.discoveryDisabled||S(k))&&(c.discoveryDisabled=!0),c},onBeforePostCreate:function(a){a={text:a.raw_message};try{var b=this.settings.callbacks.beforeComment;if(b)for(var c=0;c<b.length;c++)a=b[c](a)}catch(e){H.log("Error processing Disqus callback: ",e.toString())}finally{this.frame.sendMessage("posts.beforeCreate.response",a&&a.text)}},destroyHome:function(){I.destroy()},preloadHome:function(a){a.path="home/preload/";a=this.home=I.preload(this.getHomeData(a));
this.listenToOnce(a,"frame:ready",function(){this.frame.sendMessage("home.ready")});this.handleHomeTimeout(a)},handleHomeTimeout:function(a){this.listenTo(a,"timeout",function(){this.frame.sendMessage("home.timeout")})},showHome:function(a){a=this.home=I.show(this.getHomeData(a));this.listenToOnce(a,"frame:openReady",function(){this.frame.sendMessage("home.opened")});this.handleHomeTimeout(a)},getHomeData:function(a){var b=this.settings;return a.language||(a.language=b.language),b.apiKey&&b.remoteAuthS3&&
(a.sso={apiKey:b.apiKey,remoteAuthS3:b.remoteAuthS3}),a},listenForAffiliationRequests:function(a,b,c){var e=this.frame;this.on("frame:viglink:getaffiliatelink",function(f){function g(a){return function(b){var c={linkId:a};b&&(c.url=b);e.sendMessage("viglink:getaffiliatelink:response",c)}}var h=DISQUS.vglnk.$;return h?void h.request(a+"/click",{format:"jsonp",out:f.url,key:b,loc:e.target,subId:c},{fn:g(f.linkId),timeout:DISQUS.vglnk.opt("click_timeout")}):void e.sendMessage("viglink:getaffiliatelink:response")})},
forwardGlobalEvents:function(){var a=this;a.settings.windowName||(a.listenTo(g,"window.resize",function(){a.frame.sendMessage("window.resize")}),a.listenTo(g,"window.click",function(){a.frame.sendMessage("window.click")}),a.listenTo(g,"window.mousemove",function(){a.frame.sendMessage("window.mousemove")}));a.listenTo(g,"window.hashchange",function(b){a.frame.sendMessage("window.hashchange",b.hash)})},bindPublisherCallbacks:function(){var a=this,b=f.LEGACY_EVENTS_MAPPING,c=a.settings.callbacks;c&&
t(c,function(c,e){b[e]&&t(c,function(c){a.on(b[e],c)})})},isContainerVisible:function(){var a=this.getViewportCoords(),b=g.getOffset(this.settings.container,this.getScrollContainer()),b=b.top+b.height-a.top;return 0<b&&b<=a.height},pollFullyVisible:function(){if(!this.pollingFullVisibility){this.pollingFullVisibility=!0;var a=this.isHeightRestricted(),b={},c=this;ea(function(){return c.frame&&c.frame.elem?a&&!c.rendered?!1:E(c.frame.elem)&&!c.isHeightRestricted({checkScrollHeight:!0}):b},function(a){a!==
b&&(c.fullyVisible=!0,c.trigger("fullyVisible"))},this.constructor.VISIBILITY_POLL_INTERVAL)}},whenFullyVisible:function(a){this.pollFullyVisible();this.fullyVisible?a():this.once("fullyVisible",a)},showSlowLoadingMessage:function(){var a,b=this;if(b.loadingElem){if(m.pageVisibility.isHidden())return a=function(){m.pageVisibility.stopListening(a);b.setSlowLoadingMessageTimer(2E3)},void m.pageVisibility.listen(a);b.triggeredSlowEvent=!0;b.state===b.constructor.states.READY?m.logStat("slow_embed.got_ready"):
b.state===b.constructor.states.LOADED?m.logStat("slow_embed.loaded"):m.logStat("slow_embed.no_ready");b.loadingElem.firstChild.insertAdjacentHTML("afterend",'<p align="center">Disqus seems to be taking longer than usual. <a href="#" onclick="DISQUS.reset({reload: true}); return false;">Reload</a>?</p>')}},clearSlowLoadingMessageTimer:function(){this.timeout&&(clearTimeout(this.timeout),this.timeout=null)},setSlowLoadingMessageTimer:function(a){var b=this;b.clearSlowLoadingMessageTimer();b.timeout=
setTimeout(function(){b.showSlowLoadingMessage()},a)},addLoadingAnimOnContainerVisible:function(){var a,b=this;a=b.listenToScrollEvent(function(){var c=b.isContainerVisible();(c||b.state>=b.constructor.states.RUNNING)&&a();c&&b.addLoadingAnim()})},addLoadingAnim:function(){var a,d,c,e=this.settings.container;if(this.loadingElem)return this.loadingElem;if(!(this.state>=this.constructor.states.RUNNING)){a=b.createElement("link");a.rel="stylesheet";a.href="//a.disquscdn.com/next/embed/styles/loading.8023a7350e47171f7bb79707886cd7c5.css";
(b.head||b.getElementsByTagName("head")[0]).appendChild(a);a=b.createElement("div");d=b.createElement("div");c=b.createElement("div");d.appendChild(c);a.appendChild(d);a.dir="ltr";a.style.overflow="hidden";var f="dark"===this.settings.colorScheme;d.className="disqus-loader-bubble";d=d.style;d.height="52px";d.width="54px";d.margin="0 auto";d.overflow="hidden";d.position="relative";f&&(d.backgroundPosition="0 -52px");var g=c.style;return d.boxSizing=g.boxSizing="border-box",g.height=g.width="26px",
g.position="absolute",g.top="13px",g.left="15px","borderRadius"in g?(g.borderWidth="3px",g.borderStyle="solid",g.borderColor=(f?"rgba(223, 228, 237, .4)":"rgba(51, 54, 58, .4)")+" transparent",g.borderRadius="13px",g.transformOrigin="50% 50% 0px",c.className="disqus-loader-spinner"):g.borderLeft="3px solid "+(f?"#6D6F72":"#A3A7AD"),e.appendChild(a),this.loadingElem=a,m.logStat("lounge.loading.view"),this.setSlowLoadingMessageTimer(15E3),this.loadingElem}},removeLoadingAnim:function(){var a=this.loadingElem,
b=this.settings.container;this.clearSlowLoadingMessageTimer();a&&a.parentNode===b&&(b.removeChild(a),this.loadingElem=null)},destroy:function(){var a=this.indicators;this.removeLoadingAnim();a&&a.north&&(a.north.destroy(),a.north=null);a&&a.south&&(a.south.destroy(),a.south=null);e.prototype.destroy.call(this)}},{LEGACY_EVENTS_MAPPING:{onReady:"frame:rendered",onNewComment:"posts.create",onPaginate:"posts.paginate",onCommentCountChange:"posts.count",onIdentify:"session.identify"}},{VISIBILITY_POLL_INTERVAL:500});
return{Lounge:function(a){return new f(a)}}}();ha=function(b){return function(h,e,g){e=null===h||void 0===h?void 0:h[e];return void 0===e&&(e=g),b(e)?e.call(h):e}}(N);L=function(b,h,e){return b.getElement=function(b){return h(b)?b:b&&b.el},b.EL_ID_ATTR="data-visibility-id",b.OBJ_ID_PROP="_visibility_id",b.getId=function(g){var f=null;return h(g)?(f=g.getAttribute(b.EL_ID_ATTR)||null,f||(f=e(),g.setAttribute(b.EL_ID_ATTR,f))):g&&(f=g[b.OBJ_ID_PROP]||null,f||(f=g[b.OBJ_ID_PROP]=e())),f},b.visiblePercent=
function(b,e){var a=0;if(!e)return a;var d=b.top,c=d+b.height,h=e.visibleTop<d,k=e.visibleBottom>c;return!h&&!k||h&&k?a=1:h?a=(e.height-(d-e.visibleTop))/e.height:k&&(a=(c-e.visibleTop)/e.height),Math.round(100*a)},b}(L,function(b){return!(!b||1!==b.nodeType)},C);X=function(b,h,e,g,f,a){return a.events=[],a.lastPos=null,a.clearCache=function(b){b===n?a.getElementOffset.cache={}:(b=f.getId(b))&&(a.getElementOffset.cache[b]=null)},a.calculateOffset=function(a){if(!a||!e(a))return null;var b=a.ownerDocument.documentElement;
return{height:a.offsetHeight,top:a.getBoundingClientRect().top+(k.pageYOffset||b.scrollTop)-(b.clientTop||0)}},a._getElementOffset=function(b){var c=f.getElement(b);return c?(c=a.calculateOffset(c))?{visibleTop:c.top+(g(b,"topEdgeOffset")||0),visibleBottom:c.top+c.height-(g(b,"bottomEdgeOffset")||0),offsetTop:c.top,height:c.height}:null:null},a.getElementOffset=function(){var b=function(c){var e=b.cache,g=f.getId(c);if(g&&e[g])return e[g];c=a._getElementOffset(c);return g&&c&&(e[g]=c),c};return b.cache=
{},b}(),a.EVENT_NAMES=["enter","exit","visible","invisible","all"],a.updateTracking=function(d){var c;h(a.EVENT_NAMES,function(a){return a?function(b){return a[b]}:function(){return n}}(d._events))?(c=b(a.events,d),-1===c&&a.events.push(d)):(c=b(a.events,d),-1!==c&&a.events.splice(c,1))},a.processEvents=function(b){a.lastPos=b;var c=a.events;if(c.length)for(var e=c.length-1;0<=e;--e){var f=c[e],g=f.isVisible(b);null!==g&&(g!==f.lastVisible&&f.trigger(g?"enter":"exit",f,b),f.trigger(g?"visible":"invisible",
f,b),f.lastVisible=g)}},a}(function(b,h){for(var e=0;e<b.length;++e)if(b[e]===h)return e;return-1},function(b,h,e){for(var g=0;g<b.length;++g)if(h.call(e,b[g],g,b))return!0;return!1},E,ha,L,X);T=function(b,h,e,g,f,a,d){function c(a){return this instanceof c?(this.obj=a,void(this.lastVisible=!1)):new c(a)}var l=h(function(){d.processEvents(d.lastPos)},250);return a(c.prototype,b,{on:function(a){var c=!(this._events&&this._events[a]),e=b.on.apply(this,arguments);return c&&d.updateTracking(this),l(),
e},off:function(a){var c=b.off.apply(this,arguments);return this._events&&this._events[a]||d.updateTracking(this),c},offset:function(){return d.getElementOffset(this.obj)},isVisible:function(a){if(a=a||d.lastPos,!a)return null;var b=a.top;a=b+a.height;var c=this.offset();return c?c.offsetTop>=b&&c.visibleTop<a||c.offsetTop+c.height<=a&&c.visibleBottom>b:null},invalidate:function(){return d.clearCache(this.obj),this}}),a(c,{invalidate:d.clearCache,scroll:d.processEvents,_windowScrollHandlerBound:!1,
_ignoreCache:!1,_windowScrollHandler:e(function(){c._ignoreCache&&c.invalidate();d.processEvents({top:k.pageYOffset,height:k.document.documentElement.clientHeight})},250),bindWindowEvents:function(a){this._windowScrollHandlerBound||("undefined"!=typeof a&&(c._ignoreCache=a),g(k,"scroll",this._windowScrollHandler),g(k,"resize",this._windowScrollHandler),this._windowScrollHandlerBound=!0,this._windowScrollHandler())},unbindWindowEvents:function(){c._ignoreCache=!1;f(k,"scroll",this._windowScrollHandler);
f(k,"resize",this._windowScrollHandler);this._windowScrollHandlerBound=!1}}),c}(x,function(b,h,e){var g,f,a,d,c,l=function(){var k=(new Date).getTime()-d;h>k&&0<=k?g=setTimeout(l,h-k):(g=null,e||(c=b.apply(a,f),g||(a=f=null)))};return function(){a=this;f=arguments;d=(new Date).getTime();var k=e&&!g;return g||(g=setTimeout(l,h)),k&&(c=b.apply(a,f),a=f=null),c}},R,P,Q,p,X);Y=function(b){return function(b,e){var g=null,f=!1;this.start=function(){f||(g=setTimeout(function(){f=!0;b()},e))};this.clear=
function(){clearTimeout(g)}}}(Y);ia=function(){function b(b){if(b=Number(b),isNaN(b)||255<b)throw Error("Color components should be numbers less than 256");return b=b.toString(16),1===b.length?"0"+b:String(b)}return function(h){return"#"+b(h.red)+b(h.green)+b(h.blue)}}();ja=function(){return function(b){"undefined"==typeof b&&(b=k.location.search);var h={};return V(b.substr(1).split("&"),function(b){b=b.split("=").map(function(b){return decodeURIComponent(b.replace(/\+/g,"%20"))});b[0]&&(h[b[0]]=
b[1])}),h}}();J=function(){var b={},h=k.document.createElement("a");return b.getOrigin=function(b){h.href=b;b=h.href.split("/");return b[0]+"//"+b[2]},b.getHostName=function(b){return h.href=b,h.hostname},b.getDomainPart=function(e,g){"undefined"==typeof g&&(g=0);return b.getHostName(e).split(".").reverse()[g]},b.getQuery=function(b){return h.href=b,h.search},b}();U=function(){var b=B.WindowedApp,h=G,e=u,g=L,f=Y,a=z,d=J.getOrigin,c=J.getQuery,l={adsnative:160465,gravity:184723,taboola:184193,outbrain:185359},
r=b.extend({name:"ads",origin:n,onceEvents:{"view:enter":function(){this._report({verb:"view",adverb:"0ms-no50perc"})},"view:iab":function(){this._report({verb:"view",adverb:"iab-scroll"})}},events:{"frame:ready":function(a){this.forumId=a.forumId;this._reportOnce({verb:"load"},"load");this.bindViewEvents()},"frame:resize":function(a){this.frame.setInlineStyle("height",a.height+"px")},"frame:click":function(){this._reportOnce({verb:"click"},"click")},"frame:error-provider-not-ready":function(){this._report({verb:"fail",
object_type:"provider",object_id:this.getProvider(),adverb:"provider_not_ready"})},"frame:error-no-height":function(){this._report({verb:"fail",object_type:"provider",object_id:this.getProvider(),adverb:"no_height"})}},constructor:function(){b.apply(this,arguments);this.origin=d(this.settings.adUrl);this._reportOnceHistory={}},init:function(){if(!S(k)&&(this.settings.forum=ja(c(this.settings.adUrl)).shortname,this.settings.forum)){var a=this.settings.discovery;0!==k.location.href.indexOf(v.apps.home)&&
a&&(a.disable_all||a.disable_promoted)||(this._reportOnce({verb:"call",object_type:"provider",object_id:this.getProvider(),adjective:1},"call"),b.prototype.init.call(this))}},getProvider:function(){if(this._provider)return this._provider;var a=this.settings.adUrl.match(/provider=(\w+)/);return a&&(this._provider=a[1]),this._provider},getUrl:function(){var b=this.settings;return a(b.adUrl,{anchorColor:ia(b.anchorColor),colorScheme:b.colorScheme,sourceUrl:k.document.location.href,typeface:b.typeface,
canonicalUrl:b.canonicalUrl,disqus_version:"b73b2db"})},bindViewEvents:function(){if(!this._viewEventsBound){this._viewEventsBound=!0;T.bindWindowEvents(!0);var a=this,b=function(b,c){a.postMessageDirect({event:b,percentViewable:c})},c=new f(function(){a.trigger("view:iab");b("view:iab")},1E3),d=!1;this.listenTo(T({el:this.frame.elem}),{enter:function(){a.trigger("view:enter");b("view:enter")},exit:function(){b("view:exit");d&&(d=!1,b("view:50out"),c.clear())},visible:function(a,e){var f=g.visiblePercent(e,
a.offset());50<=f&&!d?(d=!0,b("view:50in"),c.start()):50>f&&d&&(d=!1,b("view:50out"),c.clear());b("view",f)}})}},postMessageDirect:function(a){this.frame.requiresWindow(function(a){var b=h.stringify(p({},a,{space:"disqus"}));e.WindowBase.postMessage(this.window,b,this.origin);e.WindowBase.postMessage(this.window,"disqus."+a.event,this.origin)})(a)},_report:function(a){var b=this.settings,c=this.getProvider(),d=l[c];a.forum_id=b.forumId||this.forumId;m.reportJester(p({imp:b.impressionId,experiment:b.experimentName,
variant:b.experimentVariant,service:b.experimentService,bin:"embed:promoted_discovery:"+b.experimentService+":"+b.experimentName+":"+b.experimentVariant,area:b.placement,product:"embed",forum:b.forum,zone:"thread",version:m.getLoaderVersionFromUrl("//a.disquscdn.com/next/embed/lounge.load.abfa4959dc34e1f6ae72ea1155d08c72.js"),page_url:k.document.location.href,page_referrer:k.document.referrer,object_type:"advertisement",object_id:"["+d+"]",provider:c,advertisement_id:d,ad_product_name:"iab_display",
ad_product_layout:"iab_display",event:"activity",section:"default"},a))},_reportOnce:function(a,b){this._reportOnceHistory[b]||(this._report(a),this._reportOnceHistory[b]=!0)},getFrameSettings:function(){var a=b.prototype.getFrameSettings.call(this);return a.insertBeforeEl=this.settings.insertBeforeEl,a.insertAfterEl=this.settings.insertAfterEl,a}});return{Ads:function(a){return new r(a)}}}();ka=function(){var b=u,h=B.WindowedApp.extend({events:{"frame:resize":function(b){b=b.height+"px";this.frame.setInlineStyle({height:b,
"min-height":b,"max-height":b})}},getFrameSettings:function(){var b={container:this.settings.container,contents:this.settings.engageLiteHTML},g=this.settings.engageLiteURL;return g&&(g=v.ensureHttpBasedProtocol(g,B.protocol),b.origin=J.getOrigin(g),b.target=g),b},getFrame:function(){var e=this.getFrameSettings();return new (e.target?b.Channel:b.Sandbox)(e)}});return function(b){return new h(b)}}();M=function(b){var h=u,e=new da.HostConfig(k);b.configAdapter=e;var g=[],f=!1,a=b.removeDisqusLink=function(){var b=
k.document;if(b.getElementsByClassName){if("complete"!==b.readyState)return h.addEvent(k,"load",a);(b=(b=b.getElementsByClassName("dsq-brlink"))&&b.length&&b[0])&&b.parentNode.removeChild(b)}};b.loadEmbed=function(a){if(g.length)return c({reload:!0}),H.log("Use DISQUS.reset instead of reloading embed.js please."),void H.log("See https://help.disqus.com/customer/portal/articles/472107-using-disqus-on-ajax-sites");e.configurator=a;a=e.toJSON();f||(a.container.innerHTML="",f=!0);b.loadApps(a);b.removeDisqusLink()};
var d=function(a){var b=ga.Lounge(p({discoveryDisabled:a.topPlacementUrl||a.bottomPlacementUrl},a));g.push(b);b.init();var c=null;a.topPlacementUrl&&(c=U.Ads(p({adUrl:a.topPlacementUrl,placement:"top"},a,{insertBeforeEl:b.frame.elem})),g.push(c),b.whenFullyVisible(function(){c.init()}));if(a.bottomPlacementUrl){var d=U.Ads(p({adUrl:a.bottomPlacementUrl,placement:"bottom"},a,{insertAfterEl:b.frame.elem}));g.push(d);b.whenFullyVisible(function(){"taboola_via_adsnative"===a.experimentName&&"control"!==
a.experimentVariant&&"fallthrough"!==a.experimentVariant&&null!==c?d.listenTo(c,"frame:ready",function(){d.init()}):d.init()})}};b.loadApps=function(a){var b=a.engageLiteURL;if(b&&(b=b.replace(/__disqus_identifier__/g,encodeURIComponent(a.identifier||"")).replace(/__disqus_url__/g,encodeURIComponent(a.url||""))),a.engageLiteHTML||b){var c=new ka(p({},a,{engageLiteURL:b}));g.push(c);c.init();c.on("frame:click",aa(function(){c.destroy();d(a)}))}else d(a)};var c=b.reset=function(a){a=a||{};for(var c=
g.pop();c;)c.triggeredSlowEvent&&c.state!==c.constructor.states.RUNNING&&m.logStat("reset_embed.slow"),c.destroy(),c=g.pop();a.reload&&b.loadEmbed(a.config)};return b}(M);(function(){var b=k.DISQUS||{},h=K;b.reset||(b.reset=M.reset);b.request||(b.request={});b.request.get||(b.request.get=function(b,g,f){h(b,g,f)});b.host||(b.host={});b.host._loadEmbed||(b.host._loadEmbed=M.loadEmbed);k.DISQUS=b})()}(this);this.DISQUS.host._loadEmbed();